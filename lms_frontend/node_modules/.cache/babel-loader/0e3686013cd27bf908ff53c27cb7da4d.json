{"ast":null,"code":"import _slicedToArray from \"/Users/sarwars/Desktop/Projects/LMS/tahalms/lms_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/sarwars/Desktop/Projects/LMS/tahalms/lms_frontend/src/components/user/StudentFavCourses.js\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Sidebar from \"./StudentSidebar\";\nimport React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport Swal from 'sweetalert2';\nvar baseUrl = 'http://127.0.0.1:8000/apiview';\nfunction StudentFavCourses() {\n  var _this = this;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    CourseData = _useState2[0],\n    setCourseData = _useState2[1]; // const [FavStatus, setFavStatus] = useState([]);\n  var studentId = localStorage.getItem('studentId');\n  // let {course_id} = useParams()\n\n  useEffect(function () {\n    try {\n      axios.get(baseUrl + '/fav-courses/' + studentId).then(function (res) {\n        setCourseData(res.data);\n      });\n    } catch (error) {\n      console.log(error);\n    }\n\n    // Fetch favourite status\n    // try{\n    //     axios.get(baseUrl + '/fav-status/' + studentId +'/'+ course_id)\n    //     .then((res) => {\n    //         if (res.data.bool == true){\n    //             setFavStatus('success')\n    //         }\n    //         else{\n    //             setFavStatus('')\n    //         }\n    //     });\n    // }catch(error){\n    //     console.log(error);\n    // }\n  }, []);\n\n  // const removeFav = (e) => {\n  //     e.preventDefault();\n  //     const _formData = new FormData();\n  //     _formData.append('course', course_id);\n  //     _formData.append('student', studentId);\n  //     _formData.append('status', false);\n\n  //     try{\n  //         axios.get(baseUrl + '/removefav/'+ studentId +'/'+ course_id)\n  //         .then((res) => {\n  //             // console.log(res.data)\n  //             if(res.status === 200||res.status==201){\n  //                 Swal.fire({\n  //                     title: 'Removed from favourite course',\n  //                     icon: 'success',\n  //                     toast: true,\n  //                     timer: 1000,\n  //                     position: 'top-right',\n  //                     timerProgressBar: true,\n  //                     showConfirmButton: false,\n  //                 });\n  //                 setTimeout(function(){\n  //                     window.location.reload();\n  //                  }, 1000);\n  //             }\n  //         });\n  //     }catch(error){\n  //         console.log(error);\n  //     }\n\n  // };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"aside\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"col-md-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, \"Favourite Courses\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 41\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 41\n    }\n  }, \"Created By\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 41\n    }\n  }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 33\n    }\n  }, CourseData.map(function (row, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/coursedetails/\".concat(row.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 45\n      }\n    }, row.course.title)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/teacher-details/\".concat(row.course.teacher.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 45\n      }\n    }, row.course.teacher.full_name)), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: removeFav,\n      title: \"Remove to Favourite\",\n      className: \"btn btn-danger ms-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 45\n      }\n    }, \"Remove\"));\n  }))))))));\n}\nexport default StudentFavCourses;","map":{"version":3,"names":["Link","useParams","Sidebar","React","useState","useEffect","axios","Swal","baseUrl","StudentFavCourses","_this","_useState","_useState2","_slicedToArray","CourseData","setCourseData","studentId","localStorage","getItem","get","then","res","data","error","console","log","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","row","index","to","concat","id","course","title","teacher","full_name","type","onClick","removeFav"],"sources":["/Users/sarwars/Desktop/Projects/LMS/tahalms/lms_frontend/src/components/user/StudentFavCourses.js"],"sourcesContent":["import { Link, useParams } from \"react-router-dom\";\nimport Sidebar from \"./StudentSidebar\";\nimport React, { useState, useEffect} from 'react';\nimport axios from \"axios\";\nimport Swal from 'sweetalert2';\n\nconst baseUrl = 'http://127.0.0.1:8000/apiview';\n\nfunction StudentFavCourses() {\n    const [CourseData, setCourseData] = useState([]);\n    // const [FavStatus, setFavStatus] = useState([]);\n    const studentId = localStorage.getItem('studentId')\n    // let {course_id} = useParams()\n\n    useEffect(() => {\n        try{\n            axios.get(baseUrl + '/fav-courses/'+studentId)\n            .then((res) => {\n                setCourseData(res.data)\n            });\n        }catch(error){\n            console.log(error);\n        }\n\n        // Fetch favourite status\n        // try{\n        //     axios.get(baseUrl + '/fav-status/' + studentId +'/'+ course_id)\n        //     .then((res) => {\n        //         if (res.data.bool == true){\n        //             setFavStatus('success')\n        //         }\n        //         else{\n        //             setFavStatus('')\n        //         }\n        //     });\n        // }catch(error){\n        //     console.log(error);\n        // }\n    },[]);\n\n    // const removeFav = (e) => {\n    //     e.preventDefault();\n    //     const _formData = new FormData();\n    //     _formData.append('course', course_id);\n    //     _formData.append('student', studentId);\n    //     _formData.append('status', false);\n\n    //     try{\n    //         axios.get(baseUrl + '/removefav/'+ studentId +'/'+ course_id)\n    //         .then((res) => {\n    //             // console.log(res.data)\n    //             if(res.status === 200||res.status==201){\n    //                 Swal.fire({\n    //                     title: 'Removed from favourite course',\n    //                     icon: 'success',\n    //                     toast: true,\n    //                     timer: 1000,\n    //                     position: 'top-right',\n    //                     timerProgressBar: true,\n    //                     showConfirmButton: false,\n    //                 });\n    //                 setTimeout(function(){\n    //                     window.location.reload();\n    //                  }, 1000);\n    //             }\n    //         });\n    //     }catch(error){\n    //         console.log(error);\n    //     }\n\n    // };\n\n    return(\n        <div className=\"container mt-4\">\n            <div className=\"row\">\n                <aside className=\"col-md-3\">\n                    <Sidebar />\n                </aside>\n                <section className=\"col-md-9\">\n                    <div className=\"card\">\n                        <h5 className=\"card-header\">Favourite Courses</h5>\n                        <div className=\"card-body\">\n                            <table className=\"table table-bordered\">\n                                <thead>\n                                    <tr>\n                                        <th>Name</th>\n                                        <th>Created By</th>\n                                        <th>Action</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {CourseData.map((row, index) =>\n                                    <tr>\n                                        <td><Link to={`/coursedetails/${row.id}`}>{row.course.title}</Link></td>\n                                        <td><Link to={`/teacher-details/${row.course.teacher.id}`}>{row.course.teacher.full_name}</Link></td>\n                                        {/* { FavStatus === 'success' && */}\n                                            <button type='button' onClick={removeFav} title='Remove to Favourite' className='btn btn-danger ms-2'>Remove</button>\n                                        {/* } */}\n                                    </tr>\n                                    )}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        </div>\n    );\n}\n\nexport default StudentFavCourses;"],"mappings":"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"},"metadata":{},"sourceType":"module"}