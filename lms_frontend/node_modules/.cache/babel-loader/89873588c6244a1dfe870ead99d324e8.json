{"ast":null,"code":"import _slicedToArray from \"/Users/sarwars/Desktop/Projects/LMS/tahalms/lms_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/sarwars/Desktop/Projects/LMS/tahalms/lms_frontend/src/components/user/StudentFavCourses.js\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Sidebar from \"./StudentSidebar\";\nimport React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport Swal from 'sweetalert2';\nvar baseUrl = 'http://127.0.0.1:8000/apiview';\nfunction StudentFavCourses() {\n  var _this = this;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    CourseData = _useState2[0],\n    setCourseData = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    FavStatus = _useState4[0],\n    setFavStatus = _useState4[1];\n  var studentId = localStorage.getItem('studentId');\n  var _useParams = useParams(),\n    course_id = _useParams.course_id;\n  useEffect(function () {\n    try {\n      axios.get(baseUrl + '/fav-courses/' + studentId).then(function (res) {\n        setCourseData(res.data);\n        // if (res.data.course_rating != ' ' && res.data.course_rating != null){\n        //     setAvgRating(res.data.course_rating)\n        // }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n\n    // Fetch favourite status\n    try {\n      axios.get(baseUrl + '/fav-status/' + studentId + '/' + course_id + '/').then(function (res) {\n        if (res.data.bool == true) {\n          setFavStatus('success');\n        } else {\n          setFavStatus('');\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n  var removeFav = function removeFav(e) {\n    e.preventDefault();\n    var _formData = new FormData();\n    _formData.append('course', course_id);\n    _formData.append('student', studentId);\n    _formData.append('status', false);\n    try {\n      axios.get(baseUrl + '/removefav/' + studentId + '/' + course_id).then(function (res) {\n        // console.log(res.data)\n        if (res.status === 200 || res.status == 201) {\n          Swal.fire({\n            title: 'Removed from favourite course',\n            icon: 'success',\n            toast: true,\n            timer: 1000,\n            position: 'top-right',\n            timerProgressBar: true,\n            showConfirmButton: false\n          });\n          setTimeout(function () {\n            window.location.reload();\n          }, 1000);\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"aside\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"col-md-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, \"Favourite Courses\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 41\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 41\n    }\n  }, \"Created By\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 41\n    }\n  }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 33\n    }\n  }, CourseData.map(function (row, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/coursedetails/\".concat(row.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 45\n      }\n    }, row.course.title)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/teacher-details/\".concat(row.course.teacher.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 45\n      }\n    }, row.course.teacher.full_name)), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: removeFav,\n      title: \"Remove to Favourite\",\n      className: \"btn btn-danger ms-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"bi bi-heart\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 147\n      }\n    })));\n  }))))))));\n}\nexport default StudentFavCourses;","map":{"version":3,"names":["Link","useParams","Sidebar","React","useState","useEffect","axios","Swal","baseUrl","StudentFavCourses","_this","_useState","_useState2","_slicedToArray","CourseData","setCourseData","_useState3","_useState4","FavStatus","setFavStatus","studentId","localStorage","getItem","_useParams","course_id","get","then","res","data","error","console","log","bool","removeFav","e","preventDefault","_formData","FormData","append","status","fire","title","icon","toast","timer","position","timerProgressBar","showConfirmButton","setTimeout","window","location","reload","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","row","index","to","concat","id","course","teacher","full_name","type","onClick","class"],"sources":["/Users/sarwars/Desktop/Projects/LMS/tahalms/lms_frontend/src/components/user/StudentFavCourses.js"],"sourcesContent":["import { Link, useParams } from \"react-router-dom\";\nimport Sidebar from \"./StudentSidebar\";\nimport React, { useState, useEffect} from 'react';\nimport axios from \"axios\";\nimport Swal from 'sweetalert2';\n\nconst baseUrl = 'http://127.0.0.1:8000/apiview';\n\nfunction StudentFavCourses() {\n    const [CourseData, setCourseData] = useState([]);\n    const [FavStatus, setFavStatus] = useState([]);\n    const studentId = localStorage.getItem('studentId')\n    let {course_id} = useParams();\n\n    useEffect(() => {\n        try{\n            axios.get(baseUrl + '/fav-courses/'+studentId)\n            .then((res) => {\n                setCourseData(res.data)\n                // if (res.data.course_rating != ' ' && res.data.course_rating != null){\n                //     setAvgRating(res.data.course_rating)\n                // }\n            });\n        }catch(error){\n            console.log(error);\n        }\n\n        // Fetch favourite status\n        try{\n            axios.get(baseUrl + '/fav-status/' + studentId +'/'+ course_id+'/')\n            .then((res) => {\n                if (res.data.bool == true){\n                    setFavStatus('success')\n                }\n                else{\n                    setFavStatus('')\n                }\n            });\n        }catch(error){\n            console.log(error);\n        }\n    },[]);\n\n    const removeFav = (e) => {\n        e.preventDefault();\n        const _formData = new FormData();\n        _formData.append('course', course_id);\n        _formData.append('student', studentId);\n        _formData.append('status', false);\n\n        try{\n            axios.get(baseUrl + '/removefav/'+ studentId +'/'+ course_id)\n            .then((res) => {\n                // console.log(res.data)\n                if(res.status === 200||res.status==201){\n                    Swal.fire({\n                        title: 'Removed from favourite course',\n                        icon: 'success',\n                        toast: true,\n                        timer: 1000,\n                        position: 'top-right',\n                        timerProgressBar: true,\n                        showConfirmButton: false,\n                    });\n                    setTimeout(function(){\n                        window.location.reload();\n                     }, 1000);\n                }\n            });\n        }catch(error){\n            console.log(error);\n        }\n\n    };\n\n    return(\n        <div className=\"container mt-4\">\n            <div className=\"row\">\n                <aside className=\"col-md-3\">\n                    <Sidebar />\n                </aside>\n                <section className=\"col-md-9\">\n                    <div className=\"card\">\n                        <h5 className=\"card-header\">Favourite Courses</h5>\n                        <div className=\"card-body\">\n                            <table className=\"table table-bordered\">\n                                <thead>\n                                    <tr>\n                                        <th>Name</th>\n                                        <th>Created By</th>\n                                        <th>Action</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {CourseData.map((row, index) =>\n                                    <tr>\n                                        <td><Link to={`/coursedetails/${row.id}`}>{row.course.title}</Link></td>\n                                        <td><Link to={`/teacher-details/${row.course.teacher.id}`}>{row.course.teacher.full_name}</Link></td>\n                                        {/* { FavStatus === 'success' && */}\n                                            <button type='button' onClick={removeFav} title='Remove to Favourite' className='btn btn-danger ms-2'><i class=\"bi bi-heart\"></i></button>\n                                        {/* } */}\n                                    </tr>\n                                    )}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        </div>\n    );\n}\n\nexport default StudentFavCourses;"],"mappings":"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"},"metadata":{},"sourceType":"module"}